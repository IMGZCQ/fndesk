<!DOCTYPE html>
<html lang="zh-CN">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>飞牛桌面管理工具</title>
        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <link href="fonts/font-awesome.min.css" rel="stylesheet">
        <style>
            /* 隔离的开关样式 - 只影响开关元素 */
            .switch-toggle {
                position: relative;
                display: inline-flex;
                align-items: center;
                cursor: pointer;
            }
            
            .switch-toggle-input {
                position: absolute;
                opacity: 0;
                width: 0;
                height: 0;
            }
            
            .switch-toggle-slider {
                position: relative;
                display: inline-block;
                width: 32px;
                height: 32px;
                background-color: #f87171; /* bg-rose-400 */
                border-radius: 50%;
                outline: none;
                transition: background-color 0.3s ease;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            
            .switch-toggle-slider::after {
                content: '✖️';
                position: absolute;
                width: 24px;
                height: 24px;
                background-color: #f9fafb; /* bg-gray-50 */
                border-radius: 50%;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.5s ease;
                transform: translate(-50%, -50%) rotate(-180deg);
            }
            
            .switch-toggle-input:checked + .switch-toggle-slider {
                background-color: #10b981; /* bg-emerald-500 */
            }
            
            .switch-toggle-input:checked + .switch-toggle-slider::after {
                content: '✔️';
                transform: translate(-50%, -50%) rotate(0deg);
            }
            
            .switch-toggle:hover .switch-toggle-slider::after {
                transform: translate(-50%, -50%) scale(0.75) rotate(-180deg);
            }
            
            .switch-toggle:hover .switch-toggle-input:checked + .switch-toggle-slider::after {
                transform: translate(-50%, -50%) scale(0.75) rotate(0deg);
            }
        </style>
        <style>
            /* 最高优先级的按钮样式 */
            .edit-btn {
                background: linear-gradient(to right, rgb(37, 99, 235), rgb(30, 64, 175)) !important;
                color: white !important;
                border: 1px solid rgb(96, 165, 250) !important;
                padding: 0.25rem 0.75rem !important;
                border-radius: 0.375rem !important;
                font-weight: 600 !important;
                font-size: 0.875rem !important;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
                transition: all 300ms !important;
            }
            
            .delete-btn {
                background: linear-gradient(to right, rgb(220, 38, 38), rgb(153, 27, 27)) !important;
                color: white !important;
                border: 1px solid rgb(248, 113, 113) !important;
                padding: 0.25rem 0.75rem !important;
                border-radius: 0.375rem !important;
                font-weight: 600 !important;
                font-size: 0.875rem !important;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
                transition: all 300ms !important;
                margin-left: 0.5rem !important;
            }
            
            #closeModal, #closeAnnouncementBtn {
                background: linear-gradient(to right, rgb(59, 130, 246), rgb(239, 68, 68)) !important;
                color: white !important;
                width: 2.5rem !important;
                height: 2.5rem !important;
                border-radius: 50% !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                font-size: 1.125rem !important;
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1) !important;
                transition: all 300ms !important;
                border: none !important;
            }
        </style>
    <style>
        /* 深色科技风格颜色变量 */
        :root {
            --primary: #00a8ff;
            --secondary: #00d2d3;
            --accent: #5f27cd;
            --success: #10ac84;
            --danger: #ee5a24;
            --warning: #feca57;
            --info: #3498db;
            --dark-bg: #152446d3;
            --card-bg: #263a55b7;
            --card-hover: #273449;
            --border-color: #334155;
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --glow-primary: 0 0 10px rgba(0, 168, 255, 0.5);
            --glow-secondary: 0 0 15px rgba(0, 210, 211, 0.3);
        }
        
        /* 基础样式重置 */
        * {
            margin: 0px;
            box-sizing: border-box;
        }
        
        html {
            height: 100%;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Rajdhani', 'Segoe UI', 'Roboto', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(15, 23, 42, 0.95) 0%, rgba(15, 23, 42, 1) 90%),
                linear-gradient(to right, rgba(0, 168, 255, 0.03), transparent, rgba(0, 210, 211, 0.03));
            position: relative;
            overflow-x: hidden;
        }
        
        /* 通知提示样式 */
        .notification {
            max-width: 350px;
            min-width: 280px;
            backdrop-filter: blur(8px);
            cursor: pointer;
        }
        
        .notification.success {
            background-color: rgba(16, 172, 132, 0.9);
            border-left: 4px solid var(--success);
        }
        
        .notification.success #notificationIcon {
            color: var(--text-primary);
        }
        
        .notification.error {
            background-color: rgba(238, 90, 36, 0.9);
            border-left: 4px solid var(--danger);
        }
        
        .notification.error #notificationIcon {
            color: var(--text-primary);
        }
        
        .notification.show {
            opacity: 1;
            transform: translate(0);
        }
        
        /* 优化背景效果 */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%, rgba(100, 255, 218, 0.05) 0%, rgba(30, 41, 59, 0) 70%);
            z-index: -1;
            pointer-events: none;
        }
        
        /* 主容器 */
        .container {
            width: 100%;
            max-width: 1250px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        
        /* 全局优化样式 */
        :root {
            --shadow-color: rgba(0, 0, 0, 0.2);
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-hover: rgba(0, 0, 0, 0.3);
        }
        
        /* 导航栏样式 */
        .navbar {
            background: linear-gradient(90deg, var(--card-bg), var(--dark-bg));
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 4px 15px var(--shadow-light);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .navbar:hover {
            box-shadow: 0 6px 20px var(--shadow-color);
        }
        
        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .navbar-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
            text-shadow: var(--glow-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .navbar-actions {
            display: flex;
            gap: 0rem;
            align-items: center;
        }
        
        /* 按钮样式 */
        .btn {
            padding: 0.75rem 1.5rem;
            margin: 3px;
            border: none;
            border-radius: 0.5rem;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(4px);
        }
        
        /* 编辑和删除按钮特定样式 */
        .edit-btn, .delete-btn {
            /* 确保按钮行为正常 */
            cursor: pointer;
            position: relative;
            border: none;
            background: transparent;
        }
        
        /* 关闭按钮特定样式 */
        #closeModal, #closeAnnouncementBtn {
            /* 确保按钮行为正常 */
            cursor: pointer;
            position: relative;
            border: none;
            background: transparent;
        }
        
        /* 只对具有btn类的按钮应用伪元素 */
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: all 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }
        
        /* 确保我们的特定按钮不被其他规则影响 */
        button:not(.btn) {
            position: relative !important;
            z-index: 2 !important;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 4px 15px rgba(0, 168, 255, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 168, 255, 0.4);
        }
        
        .btn-secondary {
            background: rgba(30, 41, 59, 0.8);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }
        
        .btn-secondary:hover {
            background: var(--card-hover);
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: var(--glow-primary);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #ff6b35);
            color: white;
            box-shadow: 0 4px 15px rgba(238, 90, 36, 0.3);
        }
        
        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(238, 90, 36, 0.4);
        }
        
        /* 科技黄按钮 - 用于公告说明 */
        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #ffd166);
            color: #1e293b;
            box-shadow: 0 4px 15px rgba(254, 202, 87, 0.3);
        }
        
        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(254, 202, 87, 0.4);
        }
        
        /* 科技蓝按钮 - 用于立即生效 */
        .btn-info {
            background: linear-gradient(135deg, var(--info), #2980b9);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }
        
        .btn-info:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }
        
        /* 科技绿按钮 - 用于添加图标 */
        .btn-success {
            background: linear-gradient(135deg, var(--success), #0e8966);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 172, 132, 0.3);
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 172, 132, 0.4);
        }
        
        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
        }
        
        .btn-lg {
            padding: 0.875rem 2rem;
            font-size: 1rem;
        }
        
        /* 卡片样式 */
        .card {
            background: var(--card-bg);
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 6px 20px var(--shadow-light);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px var(--shadow-hover), var(--glow-primary);
            border-color: var(--primary);
        }
        
        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), var(--glow-primary);
            border-color: var(--primary);
        }
        
        .card:hover::after {
            opacity: 1;
        }
        
        .card-content {
            padding: 1.5rem;
        }
        
        /* 筛选区域 */
        .filter-section {
            background: var(--card-bg);
            border-radius: 0 0 0.75rem 0.75rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 6px 20px var(--shadow-light);
            transition: box-shadow 0.3s ease;
        }
        
        .filter-section:hover {
            box-shadow: 0 8px 25px var(--shadow-color);
        }
        
        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .filter-footer {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
        
        /* 输入框样式 */
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        /* 网格布局 */
        .grid {
            display: grid;
        }
        
        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }
        
        .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        
        .grid-cols-3 {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        
        .gap-6 {
            gap: 1.5rem;
        }
        
        .mb-6 {
            margin-bottom: 1.5rem;
        }
        
        /* 响应式布局 */
        @media (min-width: 768px) {
            .md\:grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
            
            .md\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
            
            .md\:grid-cols-4 {
                grid-template-columns: repeat(4, minmax(0, 1fr));
            }
        }
        
        .input-group label {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        input, select {
            min-height: 20px;
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.75rem 0.5rem;
            color: var(--text-primary);
            font-size: 0.8rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--glow-primary);
            background: rgba(15, 23, 42, 0.7);
        }
        
        input::placeholder {
            color: var(--text-secondary);
        }
        
        /* 表格样式 */
        .table-container {
            background: var(--card-bg);
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            overflow: hidden;
            box-shadow: 0 6px 20px var(--shadow-light);
            margin-bottom: 2rem;
            transition: box-shadow 0.3s ease;
        }
        
        .table-container:hover {
            box-shadow: 0 8px 25px var(--shadow-color);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            border-spacing: 0;
        }
        
        th {
            background: linear-gradient(90deg, rgba(30, 41, 59, 0.8), rgba(30, 41, 59, 0.5));
            color: var(--text-secondary);
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        td {
            padding: 0.5rem;
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.2s ease;
        }
        
        tr:hover td {
            background: rgba(30, 41, 59, 0.5);
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        /* 分页样式 */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            padding: 1.5rem;
            background: var(--card-bg);
            border-top: 1px solid var(--border-color);
        }
        
        .pagination-btn {
            min-width: 68px;
            height: 42px;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
            background: rgba(15, 23, 42, 0.5);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .pagination-btn:hover:not(:disabled) {
            border-color: var(--primary);
            background: var(--card-hover);
            color: var(--primary);
            box-shadow: var(--glow-primary);
        }
        
        .pagination-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-color: var(--primary);
            color: white;
            box-shadow: var(--glow-primary);
        }
        
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* 模态框样式 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal {
            background: var(--card-bg);
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), var(--glow-secondary);
            max-width: 680px;
            min-width: 360px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease-out;
            position: relative;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            background: linear-gradient(90deg, var(--card-bg), var(--dark-bg));
            border-radius: 0.75rem 0.75rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary);
            text-shadow: var(--glow-primary);
        }
        
        .modal-body {
            padding: 1rem 1rem 0rem;
        }
        
        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
        
        /* 通知样式 */
        .notification {
            position: fixed;
            top: 2rem;
            right: 2rem;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            color: white;
            z-index: 2000;
            animation: slideInRight 0.5s ease-out;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .notification-success {
            background: linear-gradient(90deg, var(--success), #10ac84);
            box-shadow: 0 10px 30px rgba(16, 172, 132, 0.3);
        }
        
        .notification-error {
            background: linear-gradient(90deg, var(--danger), #ff6b35);
            box-shadow: 0 10px 30px rgba(238, 90, 36, 0.3);
        }
        
        /* 标签样式 */
        .tag {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.8rem;
            font-weight: 500;
            background: rgba(0, 168, 255, 0.1);
            color: var(--primary);
            border: 1px solid rgba(0, 168, 255, 0.3);
        }
        
        /* 加载动画 */
        .loader {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(0, 168, 255, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
            margin: 2rem auto;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* 响应式设计 - 920px以下修改导航栏按钮文字 */
        @media (max-width: 920px) {
            /* 隐藏按钮内的图标 */
            #announcementBtn .fa,
            #applyBtn .fa,
            #themeBtn .fa,
            #moreActionsBtn .fa {
                display: none;
            }
            
            /* 完全重写按钮内容，只显示文字不显示图标 */
            #announcementBtn {
                font-size: 0;
            }
            
            #announcementBtn::after {
                content: '公告';
                font-size: 0.9rem;
                display: inline-block;
            }
            
            #applyBtn {
                font-size: 0;
            }
            
            #applyBtn::after {
                content: '应用';
                font-size: 0.9rem;
                display: inline-block;
            }
            
            #themeBtn {
                font-size: 0;
            }
            
            #themeBtn::after {
                content: '主题';
                font-size: 0.9rem;
                display: inline-block;
            }
            
            #moreActionsBtn {
                font-size: 0;
            }
            
            #moreActionsBtn::after {
                content: '更多';
                font-size: 0.9rem;
                display: inline-block;
            }
        }
        
        /* 响应式设计 - 420px以下只显示图标不显示文字 */
        @media (max-width: 420px) {
            /* 显示按钮内的图标 */
            #announcementBtn .fa,
            #applyBtn .fa,
            #themeBtn .fa,
            #moreActionsBtn .fa {
                display: inline-block;
                font-size: 1.1rem;
            }
            
            /* 隐藏文字内容 */
            #announcementBtn::after,
            #applyBtn::after,
            #themeBtn::after,
            #moreActionsBtn::after {
                display: none;
            }
            
            /* 调整按钮尺寸以适应小屏幕 */
            .btn {
                padding: 0.75rem;
                min-width: 44px;
                width: 44px;
                height: 44px;
            }
            
            /* 确保图标居中显示 */
            .btn i {
                margin: 0;
            }
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }
            
            .navbar-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .navbar-actions {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .filter-grid {
                grid-template-columns: 1fr;
            }
            
            .filter-footer {
                flex-direction: column-reverse;
            }
            
            .modal {
                width: 95%;
                margin: 1rem;
            }
            
            .modal-footer {
                flex-direction: column;
            }
            
            .table-container {
                overflow-x: auto;
            }
            
            table {
                min-width: 300px;
            }
        }
        
        /* 工具类 */
        .flex {
            display: flex;
        }
        
        .items-center {
            align-items: center;
        }
        
        .justify-between {
            justify-content: space-between;
        }
        
        .justify-center {
            justify-content: center;
        }
        
        .gap-2 {
            gap: 0.5rem;
        }
        
        .gap-4 {
            gap: 1rem;
        }
        
        .gap-6 {
            gap: 1.5rem;
        }
                
        .mb-6 {
            margin-bottom: 1.5rem;
        }
        
        .mt-4 {
            margin-top: 1rem;
        }
        
        .mt-6 {
            margin-top: 1.5rem;
        }
        
        .p-4 {
            padding: 1rem;
        }
        
        .p-6 {
            padding: 1.5rem;
        }
        
        .text-center {
            text-align: center;
        }
        
        .text-right {
            text-align: right;
        }
        
        .w-full {
            width: 100%;
        }
        
        .hidden {
            display: none;
        }
        
        .cursor-pointer {
            cursor: pointer;
        }
        
        .text-sm {
            font-size: 0.875rem;
        }
        
        .text-lg {
            font-size: 1.125rem;
        }
        
        .font-medium {
            font-weight: 500;
        }
        
        .font-semibold {
            font-weight: 600;
        }
        
        .text-primary {
            color: var(--primary);
        }
        
        .text-secondary {
            color: var(--text-secondary);
        }
        
        /* 特效 */
        .glow-text {
            text-shadow: var(--glow-primary);
        }
        
        .glow-border {
            box-shadow: var(--glow-primary);
        }
        
        /* 滚动条样式 */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--dark-bg);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }
        
        /* 加载指示器 */
        .loading-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary);
        }
        
        .loading-indicator::after {
            content: '';
            width: 16px;
            height: 16px;
            border: 2px solid rgba(0, 168, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 0.8s linear infinite;
        }
    </style>
</head>
<body class="min-h-screen font-sans text-text-primary">
    
    <header class="navbar">
        <div class="container navbar-content">
            <h1 class="navbar-title">
                <i class="fa fa-desktop"></i>
                飞牛桌面管理工具 <span id="versionNumber">加载中...</span>
                <script>document.addEventListener("DOMContentLoaded",function(){try{fetch("/api/config").then(e=>e.json()).then(e=>{if(e&&e.version){document.getElementById("versionNumber").textContent="v"+e.version}else{document.getElementById("versionNumber").textContent="未知版本"}}).catch(e=>{console.log("无法获取版本信息:",e);document.getElementById("versionNumber").textContent="未知版本"})}catch(e){document.getElementById("versionNumber").textContent="未知版本"}})</script>
            </h1>
            <div class="navbar-actions">
                <button id="announcementBtn" class="btn btn-warning mr-2">
                    <i class="fa fa-bullhorn"></i>
                    公告说明
                </button>
                <button id="applyBtn" class="btn btn-success mr-2">
                    <i class="fa fa-check-circle"></i>
                    立即生效
                </button>
                <a href="fnstyle.html" id="themeBtn" class="btn btn-info mr-2">
                    <i class="fa fa-paint-brush"></i>
                    个性定制
                </a>

                <div class="dropdown" style="position: relative; display: inline-block;">
                    <button id="moreActionsBtn" class="btn btn-danger mr-2 dropdown-toggle">
                        <i class="fa fa-bars"></i>
                        更多功能
                    </button>
                    
                    <div id="dropdownMenu" class="dropdown-menu" style="display: none; position: absolute; right: 0; top: 100%; margin-top: 0.125rem; background-color: #121921; border: 1px solid #4a9eff; border-radius: 8px; box-shadow: 0 0 15px rgba(74, 158, 255, 0.4); min-width: 9rem; padding: 0.4rem 0.3rem; z-index: 9999; overflow: hidden;">
                        
                        <a class="dropdown-item" href="index.html" target="_blank" id="menuNewWindow" style="display: block; width: 100%; padding: 0.5rem 1rem; clear: both; font-weight: 400; color: #e0f0ff; text-align: inherit; text-decoration: none; white-space: nowrap; background: linear-gradient(90deg, transparent 0%, rgba(74, 158, 255, 0) 100%); border: 0; transition: all 0.3s ease; position: relative; overflow: hidden;">
                            <i class="fa fa-window-maximize mr-2" style="color: #4a9eff;"></i>
                            打开新窗口
                        </a>
                        <a class="dropdown-item" href="HDicon/HDicon.html" id="menuHDicon" style="display: block; width: 100%; padding: 0.5rem 1rem; clear: both; font-weight: 400; color: #e0f0ff; text-align: inherit; text-decoration: none; white-space: nowrap; background: linear-gradient(90deg, transparent 0%, rgba(74, 158, 255, 0) 100%); border: 0; transition: all 0.3s ease; position: relative; overflow: hidden;">
                            <i class="fa fa-cubes mr-2" style="color: #4a9eff;"></i>
                            打开图标库
                        </a>           
                        <a class="dropdown-item" href="sysico.html" id="menuSysico" style="display: block; width: 100%; padding: 0.5rem 1rem; clear: both; font-weight: 400; color: #e0f0ff; text-align: inherit; text-decoration: none; white-space: nowrap; background: linear-gradient(90deg, transparent 0%, rgba(74, 158, 255, 0) 100%); border: 0; transition: all 0.3s ease; position: relative; overflow: hidden;">
                            <i class="fa fa-cube mr-2" style="color: #4a9eff;"></i>
                            系统图标
                        </a>
                        <a class="dropdown-item" href="#" id="menuResetDesktop" style="display: block; width: 100%; padding: 0.5rem 1rem; clear: both; font-weight: 400; color: #e0f0ff; text-align: inherit; text-decoration: none; white-space: nowrap; background: linear-gradient(90deg, transparent 0%, rgba(74, 158, 255, 0) 100%); border: 0; transition: all 0.3s ease; position: relative; overflow: hidden;">
                            <i class="fa fa-refresh mr-2" style="color: #4a9eff;"></i>
                            还原桌面
                        </a>
                        <a class="dropdown-item" href="#" id="menuUpdateDesktop" style="display: block; width: 100%; padding: 0.5rem 1rem; clear: both; font-weight: 400; color: #e0f0ff; text-align: inherit; text-decoration: none; white-space: nowrap; background: linear-gradient(90deg, transparent 0%, rgba(74, 158, 255, 0) 100%); border: 0; transition: all 0.3s ease; position: relative; overflow: hidden;">
                            <i class="fa fa-download mr-2" style="color: #4a9eff;"></i>
                            在线升级
                        </a>
                        <a class="dropdown-item" href="#" id="menuLogout" style="display: block; width: 100%; padding: 0.5rem 1rem; clear: both; font-weight: 400; color: #e0f0ff; text-align: inherit; text-decoration: none; white-space: nowrap; background: linear-gradient(90deg, transparent 0%, rgba(74, 158, 255, 0) 100%); border: 0; transition: all 0.3s ease; position: relative; overflow: hidden;">
                            <i class="fa fa-sign-out mr-2" style="color: #4a9eff;"></i>
                            退出登录
                        </a>
                    </div>
                    <script>document.addEventListener("DOMContentLoaded",function(){console.log("初始化下拉菜单...");window.__testDropdownMenu=function(){const t=document.getElementById("dropdownMenu");if(t){t.style.display=t.style.display==="block"?"none":"block";t.style.opacity="1";t.style.transform="translateY(0)";t.style.position="absolute";t.style.zIndex="9999"}};const a=document.getElementById("dropdownMenu");const l=document.getElementById("moreActionsBtn");let i=null;console.log("Dropdown elements:",{dropdownMenu:a,dropdownToggle:l});function t(){if(!a){return}const t=window.getComputedStyle(a);const e=t.display!=="none";if(e){a.style.opacity="0";a.style.transform="translateY(-10px)";setTimeout(()=>{a.style.display="none"},300)}else{a.style.display="block";a.style.opacity="0";a.style.transform="translateY(-10px)";a.style.position="absolute";a.style.zIndex="9999";void a.offsetWidth;setTimeout(()=>{a.style.opacity="1";a.style.transform="translateY(0)"},10)}}if(l){l.onclick=null;try{const c=l.cloneNode(true);l.parentNode.replaceChild(c,l);i=c}catch(t){console.error("Error resetting dropdown toggle:",t);i=l}function e(t){t.preventDefault();t.stopPropagation();t.cancelBubble=true;if(t.stopImmediatePropagation){t.stopImmediatePropagation()}if(a){const e=window.getComputedStyle(a);const n=e.display!=="none";if(!n){a.style.display="block";a.style.opacity="0";a.style.transform="translateY(-10px)";a.style.position="absolute";a.style.zIndex="9999";void a.offsetWidth;setTimeout(()=>{a.style.opacity="1";a.style.transform="translateY(0)"},10)}else{a.style.opacity="0";a.style.transform="translateY(-10px)";setTimeout(()=>{a.style.display="none"},300)}}}const d=i||l;d.onclick=e;d.addEventListener("click",e);d.addEventListener("touchstart",function(t){t.preventDefault();e(t)});d.style.pointerEvents="auto";d.style.cursor="pointer"}let r=false;document.addEventListener("click",function(t){if(!a||!l)return;const e=i||l;if(r){setTimeout(()=>{r=false},100);return}const n=window.getComputedStyle(a).display!=="none";const o=a.contains(t.target);const s=e.contains(t.target);if(n&&!o&&!s){a.style.opacity="0";a.style.transform="translateY(-10px)";setTimeout(()=>{a.style.display="none"},300)}});const n=e;e=function(t){r=true;n(t)};const o=a.querySelectorAll(".dropdown-item");o.forEach(t=>{t.addEventListener("mouseenter",function(){this.style.background="linear-gradient(90deg, rgba(74, 158, 255, 0.2) 0%, rgba(74, 158, 255, 0.1) 100%)";this.style.boxShadow="inset 0 0 10px rgba(74, 158, 255, 0.3)";this.style.transform="translateX(5px)";this.querySelector("i").style.textShadow="0 0 8px #4a9eff"});t.addEventListener("mouseleave",function(){this.style.background="linear-gradient(90deg, transparent 0%, rgba(74, 158, 255, 0) 100%)";this.style.boxShadow="none";this.style.transform="translateX(0)";this.querySelector("i").style.textShadow="none"});t.addEventListener("click",function(t){if(this.getAttribute("href")==="#"){t.preventDefault()}const e=document.createElement("span");const n=this.getBoundingClientRect();const o=Math.max(n.width,n.height);const s=t.clientX-n.left-o/2;const l=t.clientY-n.top-o/2;e.style.width=e.style.height=o+"px";e.style.left=s+"px";e.style.top=l+"px";e.style.position="absolute";e.style.borderRadius="50%";e.style.background="rgba(74, 158, 255, 0.4)";e.style.transform="scale(0)";e.style.animation="ripple 0.6s ease-out";e.style.pointerEvents="none";this.appendChild(e);setTimeout(()=>{e.remove();if(a){a.style.opacity="0";a.style.transform="translateY(-10px)";setTimeout(()=>{a.style.display="none"},300)}},600)})});const s=document.createElement("style");s.textContent=`
                                @keyframes ripple {
                                    to {
                                        transform: scale(4);
                                        opacity: 0;
                                    }
                                }
                                .dropdown-menu {
                                    animation: glow 2s ease-in-out infinite alternate;
                                }
                                @keyframes glow {
                                    from {
                                        box-shadow: 0 0 10px rgba(74, 158, 255, 0.4);
                                    }
                                    to {
                                        box-shadow: 0 0 20px rgba(74, 158, 255, 0.6);
                                    }
                                }
                            `;document.head.appendChild(s)})</script>
                </div>
            </div>
        </div>
    </header>

    
    <main class="container py-6">
        
        <div class="filter-section bg-card p-3 rounded-lg shadow-sm">
            
            <div class="filter-primary flex flex-wrap items-center gap-4" style="margin: 8px;">
                
                
                
                <button title="-- 添加新图标/文件夹 --" id="addBtn" class="btn btn-primary py-1.5 px-3 rounded transition-all hover:shadow-lg flex items-center justify-center">
                    <i class="fa fa-plus fa-lg mr-1"></i>
                    <span class="sm:inline hidden">添加</span>
                </button>
                
                
                <div class="filter-item flex items-center min-w-[120px]">
                    <select id="uiStyleSelect" title="-- 选择飞牛桌面页內窗口或文件夹ui风格 --" class="py-1.5 px-3 border border-border rounded bg-background text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
                        <option value="cqfndesk_L.js">明亮模式</option>
                        <option value="cqfndesk_D.js">暗黑模式</option>
                        <option value="cqfndesk_CQ.js">原创经典</option>
                    </select>
                </div>
                
                
                <div class="filter-row-1">
                    
                    <div class="flex items-center min-w-[80px] sm:min-w-0 sm:flex-shrink-0">
                        <span class="mr-2 text-text-secondary whitespace-nowrap hidden sm:inline"></span>
                        <select id="iconSortSelect" title="-- 这里是指飞牛桌面里的图标加载顺序! --" class="py-1.5 px-3 border border-border rounded bg-background text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
                            <option value="1">默认顺序</option>
                            <option value="2">反向顺序</option>
                        </select>
                    </div>
                    
                    
                    <div class="filter-item flex items-center min-w-[80px]">
                        <label for="filterType" class="mr-2 text-text-secondary whitespace-nowrap font-medium"></label>
                        <select id="filterType" title="-- 筛选图标类型 --" class="py-1.5 px-3 border border-border rounded bg-background text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
                            <option value="">全类型</option>
                            
                        </select>
                    </div>
                    
                    
                    <div class="filter-item flex items-center min-w-[80px]">
                        <label for="filterOwner" class="mr-2 text-text-secondary whitespace-nowrap font-medium"></label>
                        <select id="filterOwner" title="-- 筛选图标归属 --" class="py-1.5 px-3 border border-border rounded bg-background text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
                            <option value="">全归属</option>
                            
                        </select>
                    </div>
                </div>
                
                
                <div class="filter-item flex-grow flex items-center min-w-[250px] w-full sm:w-auto">
                    <label for="filterKeyword" class="mr-2 text-text-secondary whitespace-nowrap font-medium">搜：</label>
                    <div class="relative w-full">
                        <input type="text" id="filterKeyword" placeholder="搜索 任意关键字..." class="w-full py-1.5 px-3 border border-border rounded bg-background text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
                    </div>
                </div>
                
                
                <div class="filter-row-2">
                    
                    <button id="filterBtn" title="-- 筛选按钮 --" class="btn btn-primary py-1.5 px-3 rounded transition-all hover:shadow-lg flex items-center justify-center">
                        <i class="fa fa-filter mr-1"></i>
                        <span class="sm:inline hidden">筛选</span>
                    </button>
                    
                    
                    <button id="resetFilterBtn" title="-- 重置筛选条件 --" class="btn btn-secondary py-1.5 px-3 rounded transition-all hover:shadow-lg flex items-center justify-center">
                        <i class="fa fa-refresh mr-1"></i>
                        <span class="sm:inline hidden">重置</span>
                    </button>
                </div>
            </div>
            </div>
            
            
            <style>
                /* 响应式布局优化 - 470px宽度布局 */
                @media (max-width: 470px) {
                    .filter-primary {
                        display: flex;
                        flex-direction: column;
                        gap: 0.5rem;
                    }
                    
                    /* 添加按钮单行 */
                    #addBtn {
                        width: 100%;
                        margin-bottom: 0.25rem;
                    }
                    
                    /* 搜索框单行 */
                    .filter-item.min-w\[250px\] {
                        width: 100%;
                        margin-bottom: 0.25rem;
                    }
                    
                    /* 第一行：图标排序、类型、归属在同一行 */
                    .filter-row-1 {
                        display: flex;
                        gap: 0.5rem;
                        width: 100%;
                    }
                    
                    /* 图标排序、类型、归属在同一行，平均分配宽度 */
                    .filter-row-1 > div {
                        flex: 1;
                        min-width: 0;
                        margin-bottom: 0;
                    }
                    
                    /* 调整下拉框宽度和内边距以适应空间 */
                    .filter-row-1 > div select {
                        width: 100%;
                        padding: 0.3rem 0.5rem;
                        font-size: 0.85rem;
                    }
                    
                    /* 移除文字标签以节省空间 */
                    .filter-row-1 > div:first-child span {
                        display: none;
                    }
                    
                    /* 第二行：筛选、重置按钮在同一行 */
                    .filter-row-2 {
                        display: flex;
                        gap: 0.5rem;
                        width: 100%;
                    }
                    
                    /* 筛选、重置按钮在同一行，平均分配宽度 */
                    .filter-row-2 > button {
                        flex: 1;
                        margin-bottom: 0;
                    }
                    
                    /* 移除最小宽度限制 */
                    .filter-row-1 > div {
                        min-width: auto;
                    }
                }
                
                /* 确保在470px以上宽度时保持原有布局 */
                @media (min-width: 471px) {
                    .filter-row-1,
                    .filter-row-2 {
                        display: contents;
                    }
                    
                    .filter-primary > div:nth-child(2),
                    .filter-item.min-w\[140px\] {
                        min-width: auto;
                        flex-shrink: 0;
                    }
                    
                    #filterBtn,
                    #resetFilterBtn {
                        margin-bottom: 0;
                    }
                }
                
                /* 小于470px的移动设备布局 */
                @media (max-width: 469px) {
                    .filter-primary {
                        flex-direction: column;
                        align-items: stretch;
                    }
                    
                    /* 移动端按钮布局 */
                    #addBtn,
                    #filterBtn,
                    #resetFilterBtn {
                        width: 100%;
                        margin-bottom: 0.5rem;
                    }
                    
                    /* 移动端图标排序调整 */
                    .filter-primary > div:nth-child(2) {
                        width: 100%;
                        margin-bottom: 0.5rem;
                    }
                    
                    /* 所有筛选项在移动端占满宽度 */
                    .filter-item,
                    .filter-primary > div {
                        width: 100%;
                    }
                    
                    /* 移除最小宽度限制 */
                    .filter-item.min-w\[140px\],
                    .filter-primary > div.min-w\[180px\],
                    .filter-item.min-w\[250px\] {
                        min-width: auto;
                    }
                }
                
                /* 平板设备优化 */
                @media (min-width: 470px) and (max-width: 800px) {
                    .filter-primary {
                        flex-wrap: wrap;
                    }
                    
                    /* 搜索框在平板上占满宽度 */
                    .filter-item.min-w\[250px\] {
                        width: 100%;
                    }
                    
                    /* 按钮组在平板上适当排列 */
                    #addBtn,
                    #filterBtn,
                    #resetFilterBtn {
                        flex-shrink: 0;
                    }
                }
                
                /* 表格列响应式隐藏规则 */
                /* 宽度小于800px隐藏URL列 */
                @media (max-width: 1060px) {
                    table th:nth-child(6),
                    table td:nth-child(6) {
                        display: none;
                    }
                }
                 @media (max-width: 979px) {
                    table th:nth-child(9),
                    table td:nth-child(9) {
                        display: none;
                    }
                } 
                
                /* 宽度小于680px隐藏归属列 */
                @media (max-width: 879px) {
                    table th:nth-child(10),
                    table td:nth-child(10) {
                        display: none;
                    }
                }
                
                /* 宽度小于600px隐藏类型列 */
                @media (max-width: 789px) {
                    table th:nth-child(7),
                    table td:nth-child(7) {
                        display: none;
                    }
                }
                 /* 宽度小于600px隐藏图标列 */
                @media (max-width: 689px) {
                    table th:nth-child(8),
                    table td:nth-child(8) {
                        display: none;
                    }
                }
                
                /* 科技蓝色调下拉框样式 */
                select#iconSortSelect,
                select#filterType,
                select#filterOwner {
                    /* 科技蓝色背景渐变 */
                    background: linear-gradient(135deg, rgba(0, 168, 255, 0.1), rgba(0, 210, 211, 0.1));
                    /* 科技蓝边框 */
                    border: 1px solid var(--primary);
                    /* 文字颜色 */
                    color: var(--text-primary);
                    /* 科技感发光效果 */
                    box-shadow: var(--glow-primary);
                    /* 过渡效果 */
                    transition: all 0.3s ease;
                    /* 保持原有尺寸和形状 */
                    padding: 0.375rem 0.75rem;
                    border-radius: 0.375rem;
                }
                
                /* 鼠标悬停效果 */
                select#iconSortSelect:hover,
                select#filterType:hover,
                select#filterOwner:hover {
                    box-shadow: var(--glow-secondary);
                    border-color: var(--secondary);
                }
                
                /* 聚焦效果 */
                select#iconSortSelect:focus,
                select#filterType:focus,
                select#filterOwner:focus {
                    outline: none;
                    box-shadow: 0 0 0 3px rgba(0, 168, 255, 0.3);
                    border-color: var(--primary);
                }
                
                /* 只针对筛选区域的三个下拉框设置样式 */
                select#iconSortSelect,
                select#filterType,
                select#filterOwner {
                    background-color: #1a1a2e !important;
                    color: #ffffff !important;
                    border: 1px solid #00a8ff !important;
                    padding: 0.375rem 0.75rem !important;
                    border-radius: 0.375rem !important;
                    box-shadow: 0 0 10px rgba(0, 168, 255, 0.3) !important;
                    display: inline-block !important;
                    cursor: pointer !important;
                    box-sizing: border-box !important;
                }
                
                /* 只针对筛选区域的下拉选项设置深色背景 */
                select#iconSortSelect option,
                select#filterType option,
                select#filterOwner option {
                    background-color: #1a1a2e !important;
                    color: #ffffff !important;
                    padding: 4px 8px !important;
                    margin: 0 !important;
                    border: none !important;
                }
                
                /* 只针对筛选区域的下拉选项设置选中和悬停状态 */
                select#iconSortSelect option:checked,
                select#filterType option:checked,
                select#filterOwner option:checked,
                select#iconSortSelect option:hover,
                select#filterType option:hover,
                select#filterOwner option:hover {
                    background-color: #00a8ff !important;
                    color: #ffffff !important;
                }
            </style>
        

        
        <div class="mt-4">
            <div class="flex items-center gap-2">


            </div>
        </div>

        
        <script>document.addEventListener("DOMContentLoaded",function(){fetch("deskdata/fnstyle.json").then(t=>t.json()).then(t=>{const o=document.getElementById("iconSortSelect");if(t.iconSort&&(t.iconSort===1||t.iconSort===2)){o.value=t.iconSort.toString()}const e=document.getElementById("uiStyleSelect");if(t.ui_style){e.value=t.ui_style}}).catch(t=>console.error("读取fnstyle.json失败:",t));const t=document.getElementById("iconSortSelect");t.addEventListener("change",function(){const t=parseInt(this.value);fetch("api/fnstyle.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({iconSort:t})}).then(t=>{if(!t.ok){throw new Error("网络响应错误")}return t.json()}).then(()=>{if(typeof showNotification==="function"){showNotification("图标排序设置已保存","success")}}).catch(t=>{console.error("保存图标排序设置失败:",t);if(typeof showNotification==="function"){showNotification("保存失败，请重试","error")}})});const o=document.getElementById("uiStyleSelect");o.addEventListener("change",function(){const t=this.value;fetch("api/fnstyle.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ui_style:t})}).then(t=>{if(!t.ok){throw new Error("网络响应错误")}return t.json()}).then(()=>{if(typeof showNotification==="function"){showNotification("UI样式设置已保存，请执行 立即生效 应用新样式...","success")}}).catch(t=>{console.error("保存UI样式设置失败:",t);if(typeof showNotification==="function"){showNotification("保存失败，请重试","error")}})})})</script>
        
        
        <div class="table-container">
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead>
                        <tr>
                            <th id="sortable-order" class="cursor-pointer hover:bg-card-hover">拖动排序 <i class="fa fa-sort ml-1"></i></th>
                            <th class="text-center">原创图标</th>
                            <th class="text-center">即将开放</th>
                            <th class="hidden">ID</th>
                            <th>标 题</th>
                            <th>URL</th>
                            <th>打开方式</th>
                            <th>图标预览</th>
                            <th>类 型</th>
                            <th>归 属</th>
                            <th class="text-center">操 作</th>
                        </tr>
                    </thead>
                    <tbody id="dataTableBody">
                        
                    </tbody>
                </table>
            </div>
            
            <div class="pagination flex items-center justify-between py-4 px-2">
                <div class="text-sm text-text-secondary">
                    本页 <span id="startItem">0</span> 到 <span id="endItem">0</span> 条，共 <span id="totalItems">0</span> 条
                </div>
                <div class="flex gap-4">
                    <button id="prevPage" class="pagination-btn px-4 py-2 border rounded transition-all hover:bg-card-hover disabled:opacity-50" disabled="disabled">
                        上一页
                    </button>
                    <button id="nextPage" class="pagination-btn px-4 py-2 border rounded transition-all hover:bg-card-hover disabled:opacity-50" disabled="disabled">
                        下一页
                    </button>
                </div>
            </div>
        </div>
    </main>

    
    <div id="editModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modalTitle" class="modal-title">添加图标</h2>
                <button id="closeModal">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="editForm">
                    <input type="hidden" id="recordId">
                    
                    
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
                        <div class="input-group">
                            <label for="edit序号">序号（越大靠前）</label>
                            <input type="number" id="edit序号" required>
                        </div>
                        <div class="input-group">
                            <label for="edit类型">图标类型</label>
                            <select id="edit类型" required>
                                <option value="0">图标</option>
                                <option value="1">文件夹</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="edit归属">归属文件夹</label>
                            <select id="edit归属" required>
                                
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="editOpenInPage">打开方式</label>
                            <select id="editOpenInPage" required>
                                <option value="0">新窗打开</option>
                                <option value="1">页内打开</option>
                            </select>
                        </div>
                    </div>
                    
                    <script>function toggleUrlFieldsByType(){const e=document.getElementById("edit类型");if(!e)return;const n=e.value==="1";const t=document.getElementById("publicUrlField");const o=document.getElementById("urlFieldsRow1");const i=document.getElementById("urlFieldsRow2");const d=document.getElementById("edit标题");const l=document.querySelector(".input-group:has(#editOpenInPage)");if(t){if(n){t.style.display="none"}else{t.style.display=""}}if(o)o.style.display=n?"none":"grid";if(i)i.style.display=n?"none":"grid";if(l){l.style.display=n?"none":"flex"}const w=document.getElementById("recordId").value;if(d&&!w){d.value=n?"新建文件夹":"一个新图标"}}window.addEventListener("DOMContentLoaded",function(){window.waiwangURL="";window.neiwangURL="";fetch("/api/config").then(e=>{if(!e.ok){throw new Error("获取配置失败")}return e.json()}).then(e=>{window.waiwangURL=e.wizard_wan_url||"";window.neiwangURL=e.wizard_lan_url||"";console.log("从API获取的外网URL:",window.waiwangURL);console.log("从API获取的内网URL:",window.neiwangURL)}).catch(e=>{window.waiwangURL="";window.neiwangURL="";console.error("获取配置信息失败:",e)});const e=document.getElementById("edit类型");if(e){e.addEventListener("change",toggleUrlFieldsByType)}const t=window.openEditModal;if(t){window.openEditModal=function(e){t(e);const n=document.getElementById("edit类型");if(e&&n&&e.type!==undefined){n.value=e.type}setTimeout(toggleUrlFieldsByType,100)}}})</script>
                    
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="input-group">
                            <label for="edit标题">* 标题（必须填写！）</label>
                            <input type="text" id="edit标题" value="一个新图标" required onfocus="this.select()">
                        </div>
                        <div id="publicUrlField" class="input-group">
                            <label for="edit外网跳转URL">公网地址：（完整的URL地址）</label>
                            <input type="text" id="edit外网跳转URL" placeholder="http:// or https://" value="" onfocus='if(this.value=="")this.value=window.waiwangURL;this.select()'>
                        </div>
                    </div>
                    
                    
                    <div id="urlFieldsRow1" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="input-group">
                            <label for="edit内网跳转URL">内网地址：（识别到内网将跳转到此地址）</label>
                            <input type="text" id="edit内网跳转URL" placeholder="识别到内网将跳转到此地址" value="" onfocus='if(this.value=="")this.value=window.neiwangURL;this.select()'>
                        </div>
                        <div class="input-group">
                            <label for="edit备用URL1">备用URL1（桌面图标右键菜单可选）</label>
                            <input type="text" id="edit备用URL1" placeholder="http:// or https://" onfocus="this.select()">
                        </div>
                    </div>
                    
                    
                    <div id="urlFieldsRow2" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="input-group">
                            <label for="edit备用URL2">备用URL2（桌面图标右键菜单可选）</label>
                            <input type="text" id="edit备用URL2" placeholder="http:// or https://" onfocus="this.select()">
                        </div>
                        <div class="input-group">
                            <label for="edit备用URL3">备用URL3（桌面图标右键菜单可选）</label>
                            <input type="text" id="edit备用URL3" placeholder="http:// or https://" onfocus="this.select()">
                        </div>
                    </div>
                    
                    
                    <div class="grid grid-cols-1 gap-6 mb-6">
                        <div class="input-group" style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <label for="edit网络图片URL" style="display: none;">网络图片URL（若不填则尝试从URL中获取）</label>
                            <input type="text" id="edit网络图片URL" placeholder="不填则尝试从URL中获取" class="flex-1" onfocus="this.select()" style="display: none;">
                            <label for="edit本地图片URL">图标图片（若手动请别用中文，把图片放到deskdata/img/目录下）</label>
                            <div class="flex gap-2 items-center" style="width: 100%;">
                                
                                <div id="imagePreview" style="width: 50px; height: 50px; border: 1px solid var(--border-color); border-radius: 4px; background-color: rgba(15, 23, 42, 0.3); display: flex; align-items: center; justify-content: center; overflow: hidden;">
                                    <i class="fa fa-picture-o text-text-secondary" style="font-size: 20px;"></i>
                                </div>
                                
                                <input type="text" id="edit本地图片URL" placeholder="1上传/2填入网络图片url/3点击获取/4手动" class="flex-1 flex-grow min-w-0" onfocus="this.select()" oninput="updateImagePreview(this.value)" style="flex: 1 1 auto; width: 0;">
                                <button id="autoFetchBtn" type="button" class="btn btn-primary whitespace-nowrap">获取</button>
                                <button id="uploadLocalImgBtn" type="button" class="btn btn-primary whitespace-nowrap">上传</button>
                                <input type="file" id="localImgFileInput" accept="image/*" style="display: none;">
                            </div>
                            
                            <script>window.updateImagePreview=function(e){const t=document.getElementById("imagePreview");t.innerHTML="";if(!e){const n=document.createElement("i");n.className="fa fa-picture-o text-text-secondary";n.style.fontSize="20px";t.appendChild(n);return}try{const a=document.createElement("img");a.style.width="100%";a.style.height="100%";a.style.objectFit="cover";a.style.transition="opacity 0.3s ease";a.style.opacity="0";a.onload=function(){a.style.opacity="1"};a.onerror=function(){const e=document.createElement("i");e.className="fa fa-exclamation-circle text-warning";e.style.fontSize="20px";t.innerHTML="";t.appendChild(e)};a.src=e+`?v=${Date.now()}`;t.appendChild(a)}catch(e){const n=document.createElement("i");n.className="fa fa-exclamation-circle text-warning";n.style.fontSize="20px";t.innerHTML="";t.appendChild(n)}}</script>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <a target="_blank" href="HDicon/HDicon.html" class="text-secondary mr-auto" style="margin-right: auto; padding-top: 10px;">
                    <small>打开图标库</small>
                </a>
                <button id="cancelEditBtn" class="btn btn-secondary">
                    取 消
                </button>
                <button id="saveBtn" class="btn btn-primary">
                    保 存
                </button>
            </div>
        </div>
    </div>

    
    <div id="deleteModal" class="modal-overlay hidden">
        <div class="modal max-w-md">
            <div class="modal-header">
                <h2 class="modal-title">确认删除</h2>
            </div>
            <div class="modal-body">
                <p class="text-text-primary">确定要删除这条记录吗？此操作不可撤销。</p>
                <p id="deleteTitle" class="mt-2 font-medium text-danger"></p>
                <input type="hidden" id="deleteId">
            </div>
            <div class="modal-footer">
                <button id="cancelDeleteBtn" class="btn btn-secondary">
                    取消
                </button>
                <button id="confirmDeleteBtn" class="btn btn-danger">
                    删除
                </button>
            </div>
        </div>
    </div>
    
    
    <div id="applyConfigModal" class="modal-overlay hidden">
        <div class="modal max-w-md">
            <div class="modal-header">
                <h2 class="modal-title">确认应用配置</h2>
            </div>
            <div class="modal-body">
                <p class="text-text-primary">确定要立即应用当前配置吗？（飞牛也是牛，请不要频繁点击此按钮）</p>
                <p class="text-text-secondary text-sm mt-2">应用后若没效果请清空浏览器缓存/浏览器按F12在网络里禁用缓存/使用无痕模式浏览</p><br>
            </div>
            <div class="modal-footer">
                <button id="cancelApplyBtn" class="btn btn-secondary">
                    取 消
                </button>
                <button id="confirmApplyBtn" class="btn btn-primary">
                    确认应用
                </button>
            </div>
        </div>
    </div>
    
    
    <div id="resetDesktopModal" class="modal-overlay hidden">
        <div class="modal max-w-md">
            <div class="modal-header">
                <h2 class="modal-title">确认还原桌面？</h2>
            </div>
            <div class="modal-body">
                <p class="text-text-primary">这将彻底还原成使用本工具之前状态。</p>
                <p class="text-text-secondary text-sm mt-2">⚠ 还原后请稍等片刻刷新桌面！</p><br>
            </div>
            <div class="modal-footer">
                <button id="cancelResetBtn" class="btn btn-secondary">
                    取 消
                </button>
                <button id="confirmResetBtn" class="btn btn-primary">
                    确认还原
                </button>
            </div>
        </div>
    </div>
    
    
    <div id="logoutModal" class="modal-overlay hidden">
        <div class="modal max-w-md">
            <div class="modal-header">
                <h2 class="modal-title">确认退出登录</h2>
            </div>
            <div class="modal-body">
                <p class="text-text-primary">确定要退出当前登录吗？</p>
                <p class="text-text-secondary text-sm mt-2">退出后需要重新登录才能管理桌面配置。</p><br>
            </div>
            <div class="modal-footer">
                <button id="cancelLogoutBtn" class="btn btn-secondary">
                    取 消
                </button>
                <button id="confirmLogoutBtn" class="btn btn-secondary">
                    确认退出
                </button>
            </div>
        </div>
    </div>
    
    
    <div id="announcementModal" class="modal-overlay hidden">
        <div class="modal max-w-2xl">
            <div class="modal-header">
                <h2 class="modal-title">公告说明</h2>
                <button id="closeAnnouncementBtn">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="announcementContent">
                    
                    <div id="announcementLoading" class="text-center py-10">
                        <i class="fa fa-circle-o-notch fa-spin fa-3x text-primary mb-3"></i>
                        <p>加载公告中...</p>
                    </div>
                    
                    <div id="announcementError" class="hidden text-center py-10">
                        <i class="fa fa-exclamation-circle fa-3x text-danger mb-3"></i>
                        <p>加载公告失败，请稍后重试</p>
                    </div>
                    
                    <div id="announcementText" class="hidden">
                        
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="closeAnnouncementFooterBtn" class="btn btn-primary">
                    我知道了
                </button>
            </div>
        </div>
    </div>

    <script>async function fetchAnnouncementContent(){const t=document.getElementById("announcementLoading");const c=document.getElementById("announcementError");const i=document.getElementById("announcementText");t.classList.remove("hidden");c.classList.add("hidden");i.classList.add("hidden");try{const n="";const e=`/api/announcement?url=${encodeURIComponent(n)}`;const o=await fetch(e,{method:"GET",headers:{Accept:"text/html, application/xhtml+xml, application/xml;q=0.9, */*;q=0.8"},cache:"no-cache"});if(!o.ok){throw new Error(`HTTP错误! 状态码: ${o.status} - ${o.statusText}`)}const a=await o.text();i.innerHTML=a;t.classList.add("hidden");i.classList.remove("hidden");c.classList.add("hidden")}catch(n){console.error("获取公告内容失败:",n.message);t.classList.add("hidden");c.classList.remove("hidden");let e=`加载失败: ${n.message}`;if(n.message.includes("CORS")){e+=" (可能是跨域访问限制)"}else if(n.message.includes("NetworkError")||n.message.includes("网络")){e+=" (可能是网络连接问题)"}c.innerHTML=`
                    <i class="fa fa-exclamation-circle fa-3x text-danger mb-3"></i>
                    <p>${e}</p>
                `;i.innerHTML=`
                <br/>
                    <h3>无法加载最新公告</h3>
                    <h3>  默认公告：</h3>
                    <ul>
                        <li>大家好👋，我是米恋泥，</li>
                        <li>欢迎使用，有问题请找我，Q群1039270739</li>
                        <li>飞牛论坛（搜：飞牛桌面管理工具）</li>
                        <li>GitHub：IMGZCQ/fndesk</li>
                        <li>酷安：米恋泥</li>
                    </ul>
                `;i.classList.remove("hidden")}}document.addEventListener("DOMContentLoaded",function(){const announcementBtn=document.getElementById("announcementBtn");if(announcementBtn){const originalClickHandler=announcementBtn.onclick||announcementBtn.getAttribute("onclick");announcementBtn.onclick=null;announcementBtn.removeAttribute("onclick");announcementBtn.addEventListener("click",function(){if(typeof originalClickHandler==="function"){originalClickHandler.call(this)}else{if(typeof originalClickHandler==="string"){eval(originalClickHandler)}else{const announcementModal=document.getElementById("announcementModal");if(announcementModal){announcementModal.classList.remove("hidden")}}}fetchAnnouncementContent()})}})</script>



    <script src="index.js"></script>
    
    
    
    <div id="updateModal" class="modal-overlay hidden">
        <div class="modal max-w-md">
            <div class="modal-header">
                <h2 class="modal-title">在线升级</h2>
            </div>
            <div class="modal-body">
                <p class="text-text-primary">在线升级功能开发中...手动升级步骤： </p><br>
                <p class="text-text-primary">应用中心升级：<br>下载最新安装包直接安装（<a target="_blank" href="https://fndesk.imcq.top/?url=dl&at=FnAPP" style="color: #60a5fa;font-size:16px; font-weight: bold; text-decoration: none;">fpk下载链接</a>）</p><br>
                <p class="text-text-primary">Docker Compose升级步骤：</p>
                <p class="text-text-secondary text-sm mt-2">1.打开Docker>Compose>fndesk项目>右边三个点>清理</p>
                <p class="text-text-secondary text-sm mt-2">2.打开Docker>本地镜像>把imgzcq/fndesk镜像删除</p>
                <p class="text-text-secondary text-sm mt-2">3.回到Docker>Compose>fndesk项目>右边三个点>构建</p><br>
            </div>
            <div class="modal-footer">
                <button id="cancelUpdateBtn" class="btn btn-secondary">
                    取 消
                </button>
                <button id="confirmUpdateBtn" class="btn btn-secondary">
                    我知道了
                </button>
            </div>
        </div>
    </div>
    
    <footer class="bg-card py-6 border-t">
        <div class="container text-center text-text-secondary">
            <p class="mb-1" style="font-size: 12px;">飞牛桌面管理工具 by 米恋泥</p>
            <p style="font-size: 11px;">组织机构 @小宠瞭望塔</p><br>
        </div>
    </footer>

    <script>document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("updateModal");const e=document.getElementById("menuUpdateDesktop");const t=document.getElementById("cancelUpdateBtn");const d=document.getElementById("confirmUpdateBtn");const c=document.getElementById("dropdownMenu");function o(){if(n){n.classList.remove("hidden")}if(c){c.style.display="none"}}function i(){if(n){n.classList.add("hidden")}}if(e){e.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();o()})}if(t){t.addEventListener("click",i)}if(d){d.addEventListener("click",i)}document.addEventListener("keydown",e=>{if(e.key==="Escape"&&n&&!n.classList.contains("hidden")){i()}})})</script>
</body>
</html>