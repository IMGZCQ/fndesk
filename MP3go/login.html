<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fndesk éŸ³ä¹æ’­æ”¾å™¨</title>
    <link rel="icon" href="/app-center-static/serviceicon/fndesk/ui/images/icon_%7B0%7D.png?size=256" type="image/png">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        
        .login-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
        
        .login-header {
            margin-bottom: 2rem;
        }
        
        .login-header h1 {
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .login-header p {
            color: #666;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: bold;
        }
        
        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            box-sizing: border-box;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .error-message {
            color: #e74c3c;
            margin-top: 1rem;
            display: none;
        }
        
        .footer {
            margin-top: 1.5rem;
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="login-container">
        <div class="login-header">
            <h1>ğŸµ Fndesk Music</h1>
            <p>è¯·è¾“å…¥å¯†ç è®¿é—®æ‚¨çš„éŸ³ä¹åº“</p>
        </div>
        
        <form id="loginForm">
            <div class="form-group">
                <label for="password">è®¾ç½®/é‡ç½®å¯†ç ,è¯·åˆ°Fndeskåå°è®¾ç½®</label>
                <input type="password" id="password" name="password" placeholder="è¯·è¾“å…¥è®¿é—®å¯†ç " required>
            </div>
            
            <div class="form-group" style="text-align: left; margin-bottom: 1.5rem;">
                <label style="display: flex; align-items: center; font-weight: normal; cursor: pointer;">
                    <input type="checkbox" id="rememberPassword" name="rememberPassword" style="margin-right: 0.5rem; width: auto;">
                    è®°ä½å¯†ç 
                </label>
            </div>
            
            <button type="submit" class="btn">å¼€ å§‹ å¬ æ­Œ</button>
            
            <div id="errorMessage" class="error-message">
                å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ï¼
            </div>
        </form>
        
        <div class="footer">
            <p>é£ç‰›æ¡Œé¢ç®¡ç†å·¥å…· by ç±³æ‹æ³¥</p>
        </div>
    </div>

    <script>function sha256(e){function t(e,t){return e>>>t|e<<32-t}var r=Math.pow;var o=r(2,32);var a="length";var s,n;var l="";var c=[];var i=e[a]*8;var m=sha256.h=sha256.h||[];var d=sha256.k=sha256.k||[];var u=d[a];var f={};for(var g=2;u<64;g++){if(!f[g]){for(s=0;s<313;s+=g){f[s]=g}m[u]=r(g,.5)*o|0;d[u++]=r(g,1/3)*o|0}}e+="Â€";while(e[a]%64-56)e+="\0";for(s=0;s<e[a];s++){n=e.charCodeAt(s);if(n>>8)return;c[s>>2]|=n<<(3-s)%4*8}c[c[a]]=i/o|0;c[c[a]]=i;for(n=0;n<c[a];){var h=c.slice(n,n+=16);var w=m;m=m.slice(0,8);for(s=0;s<64;s++){var y=s+n;var v=h[s-15],P=h[s-2];var I=m[0],S=m[4];var p=m[7]+(t(S,6)^t(S,11)^t(S,25))+(S&m[5]^~S&m[6])+d[s]+(h[s]=s<16?h[s]:h[s-16]+(t(v,7)^t(v,18)^v>>>3)+h[s-7]+(t(P,17)^t(P,19)^P>>>10)|0);var E=(t(I,2)^t(I,13)^t(I,22))+(I&m[1]^I&m[2]^m[1]&m[2]);m=[p+E|0].concat(m);m[4]=m[4]+p|0}for(s=0;s<8;s++){m[s]=m[s]+w[s]|0}}for(s=0;s<8;s++){for(n=3;n+1;n--){var b=m[s]>>n*8&255;l+=(b<16?0:"")+b.toString(16)}}return l}function readPasswordFromConfig(){return fetch("/deskdata/fnstyle.json?v="+(new Date).getTime()).then(e=>{if(!e.ok){throw new Error("æ— æ³•è·å–é…ç½®æ–‡ä»¶")}return e.json()}).then(e=>{if(e.fndeskMP3_PW){return e.fndeskMP3_PW}else{throw new Error("é…ç½®æ–‡ä»¶ä¸­æœªæ‰¾åˆ°å¯†ç å­—æ®µ")}})}function isNoPasswordMode(e){return e==="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"}document.getElementById("loginForm").addEventListener("submit",function(e){e.preventDefault();const o=document.getElementById("password").value;const a=document.getElementById("rememberPassword").checked;const s=document.getElementById("errorMessage");const n=sha256(o);readPasswordFromConfig().then(e=>{e=e.trim();if(isNoPasswordMode(e)||n===e){const t=new Date;t.setDate(t.getDate()+1);localStorage.setItem("musicPlayerAuthenticated","true");localStorage.setItem("musicPlayerAuthExpiration",t.toISOString());if(a){localStorage.setItem("musicPlayerRememberedPassword",o)}else{localStorage.removeItem("musicPlayerRememberedPassword")}localStorage.setItem("musicPlayerNoPasswordMode",isNoPasswordMode(e)?"true":"false");const r=sessionStorage.getItem("loginReferrer")||"player.html";window.location.href=r}else{s.style.display="block";document.getElementById("password").value="";document.getElementById("password").focus()}}).catch(e=>{s.textContent="è¯·å…ˆè®¾ç½®å¯†ç ,å“ªæ€•æ˜¯ç©ºå¯†ç ,ç‚¹ä¸€æ¬¡ä¿å­˜ç”Ÿæ•ˆ";s.style.display="block"})});document.addEventListener("DOMContentLoaded",function(){const e=localStorage.getItem("musicPlayerAuthenticated")==="true";const t=localStorage.getItem("musicPlayerAuthExpiration");if(e&&t){const o=new Date(t);const a=new Date;if(a<o){const s=sessionStorage.getItem("loginReferrer")||"player.html";window.location.href=s}else{localStorage.removeItem("musicPlayerAuthenticated");localStorage.removeItem("musicPlayerAuthExpiration")}}readPasswordFromConfig().then(e=>{e=e.trim();if(isNoPasswordMode(e)){const e=new Date;e.setDate(e.getDate()+1);localStorage.setItem("musicPlayerAuthenticated","true");localStorage.setItem("musicPlayerAuthExpiration",e.toISOString());localStorage.setItem("musicPlayerNoPasswordMode","true");showCountdownOverlay()}}).catch(e=>{});const r=localStorage.getItem("musicPlayerRememberedPassword");if(r){document.getElementById("password").value=r;document.getElementById("rememberPassword").checked=true}if(document.referrer){const n=new URL(document.referrer);const l=n.pathname.split("/").pop();if(l==="index.html"||l==="player.html"){sessionStorage.setItem("loginReferrer",l)}else{sessionStorage.setItem("loginReferrer","player.html")}}else{sessionStorage.setItem("loginReferrer","player.html")}})</script>
    
    
    <script>function showCountdownOverlay(){const t=document.createElement("div");t.id="countdown-overlay";t.style.cssText=`
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.9);
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                color: white;
                font-family: Arial, sans-serif;
            `;const e=document.createElement("div");e.textContent="æ²¡æœ‰è®¾ç½®å¯†ç  ç›´æ¥å¬æ­Œ";e.style.cssText=`
                font-size: 24px;
                margin-bottom: 30px;
                text-align: center;
            `;const n=document.createElement("div");n.id="countdown-number";n.textContent="3";n.style.cssText=`
                font-size: 72px;
                font-weight: bold;
                color: #667eea;
                animation: pulse 1s infinite;
                margin-bottom: 20px;
            `;const o=document.createElement("div");o.textContent="å¯†ç å¯åœ¨Fndeskåå°è®¾ç½®";o.style.cssText=`
                font-size: 22px;
                text-align: center;
            `;const i=document.createElement("style");i.textContent=`
                @keyframes pulse {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.2); }
                    100% { transform: scale(1); }
                }
            `;t.appendChild(e);t.appendChild(n);t.appendChild(o);document.head.appendChild(i);document.body.appendChild(t);let s=3;const l=document.getElementById("countdown-number");const c=setInterval(()=>{s--;if(s>0){l.textContent=s;l.style.animation="none";setTimeout(()=>{l.style.animation="pulse 1s infinite"},10)}else{clearInterval(c);document.body.removeChild(t);document.head.removeChild(i);const e=sessionStorage.getItem("loginReferrer")||"player.html";window.location.href=e}},1e3)}</script>
</body>
</html>